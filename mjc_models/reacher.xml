<mujoco model="arm1">
  <compiler inertiafromgeom="true" angle="degree" coordinate="local"/>
  <!--<option timestep="0.01" eqsoft="true" remotecontact="true" gravity="0 0.0 0" iterations='20'/>-->
  <option timestep="0.01" gravity="0 0.0 0" iterations='20'/>
  <!-- s_armature='.1 10' -->
  <default>
    <!--<joint islimited="false" damping="10" maxvel="12" armature='0.5' frictionloss='0.1' isfrictional='true' makeactuator="true"/>-->
    <!--<joint islimited="false" damping="1" makeactuator="false" armature='0.1'/>-->
    <joint limited="false" damping="1" armature='0.1'/>
    <!--<geom contype="2" conaffinity="1" condim="1" friction=".5 .1 .1"
          density="1000" mindist="0.002" compliance="0.001"
          timeconst="0.01"/>-->
    <!--<geom contype="2" conaffinity="1" condim="1" friction=".5 .1 .1"
          density="1000" margin="0.002" compliance="0.001"
          timeconst="0.01"/>-->
    <geom contype="2" conaffinity="1" condim="1" friction=".5 .1 .1"
          density="1000" margin="0.002" />
    <!-- Note for later: what made the insertion easy was changing mindist and compliance to 0.002/0.001 and enabling remotecontact -->
  </default>

  <!-- things that seem to help: remote contact, more interations, high mindist -->
<worldbody>
    <body name="shoulder" pos="0 0 0">
      <geom name="shoulder_geom" type="capsule" fromto="0 0 0 0.8 0 0" size="0.05"/>
      <joint name="shoulder_rot" type="hinge" pos="0 0 0" axis="0 0 -1"/>

      <body name="forearm" pos="0.8 0 0">
        <geom name="forearm_geom" type="capsule" fromto="0 0 0 0.8 0 0" size="0.05"/>
        <joint name="forearm_rot" type="hinge" pos="0 0 0" axis="0 0 -1"/>

        <body name="finger" pos="0.8 0 0">
          <geom name="finger_geom" type="capsule" fromto="0 0 0 0.5 0 0" size="0.05"/>
          <site name="finger_tip" pos="0.5 0 0" size="0.01"/>
          <joint name="finger_rot" type="hinge" pos="0 0 0" axis="0 0 -1"/>
        </body>
      </body>
    </body>

    <!--body name="lower_wall" pos="-2.0 -2.0 0">
      <geom name="wall1" type="capsule" size="0.1" fromto="0 0 0 4 0 0" contype="1"/>
    </body-->
    <body name="lower_wall2" pos="0.8 -1.7 0">
      <geom name="wall2" type="capsule" size="0.2" fromto="0 0 0 0.01 0 0" contype="1"/>
    </body>

    <!--<body name="topobst1" pos="1 0 0">
      <geom name="obst1" type="capsule" size="0.1" fromto="-0.01 0 0 0.01 0 0" contype="1"/>
    </body>-->

    <!--<body name="leftobst2" pos="-0.5 -1.2 0">
      <geom name="obst2" type="capsule" size="0.15" fromto="0 0 0 0.01 0 0" contype="1"/>
    </body>-->

    <body name="leftobst2" pos="0.8 -0.7 0">
      <geom name="obst2" type="capsule" size="0.15" fromto="0 0 0 0.01 0 0" contype="1"/>
    </body>

    <body name="target" pos="1.3 -1.0 0">
      <geom name="target" type="capsule" size="0.05" rgba="0 0.9 0.1 1" fromto="0 0 0 0.01 0 0"/>
    </body>


    <!--body name="brick" pos="0 -1.8 0">
      <joint name="brick_x" type="slide" pos="0 0 0" axis="1 0 0"/>
      <joint name="brick_y" type="slide" pos="0 0 0" axis="0 1 0"/>
        <body name="brick_rot" pos="0 0 0">
            <joint name="brick_rot" type="hinge" pos="0 0 0" axis="0 0 -1"/>
            <geom name="brick_geom" type="capsule" fromto="-0.01 0 0 0.01 0 0" size="0.1" density="500" contype="1"/>
        </body>
    </body-->
            <!--<geom name="brick_geom" type="box" size="0.1 0.1 0.1" contype="1"/>-->
            <!--site name="brick_center" pos="0 0 0"/-->

</worldbody>
  <actuator>
    <motor joint="shoulder_rot" ctrlrange="-200.0 200.0" ctrllimited="true"/>
    <motor joint="forearm_rot" ctrlrange="-200.0 200.0" ctrllimited="true"/>
    <motor joint="finger_rot" ctrlrange="-200.0 200.0" ctrllimited="true"/>
  </actuator>

  <!--<features>
    <feature name='control'>
      <data field='ctrl' item='all'/>
    </feature>
  </features>
  <costs>

    <physics_options  timestep='0.01'/>

    <optimization_options
        logeps='-30'
        horizon='400'
        logmurange='-5 3'
        />

    <cost name='dummy'>
      <term feature='control'       norm='quadratic'    coef_running='.1' />
    </cost>
  </costs>-->
</mujoco>
